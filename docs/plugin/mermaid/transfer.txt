sequenceDiagram
Note right of Merchant Front: The customer clicks<br>on the Pledg button
Merchant Front->> Pledg Plugin: Javascript call
Note right of Pledg Plugin: The Pledg Plugin opens<br>inside the Merchant Front<br>an iframe containing<br>the Pledg Front
Pledg Plugin->> Pledg Front: HTTP GET
Note right of Pledg Front: The customer validates<br>the terms of the<br>payment facility
Note right of Pledg Front: The customer sets<br>the cards details
Pledg Front->> Pledg PSP: Customer card details
Pledg PSP->> Pledg Front: Token
Pledg Front->> Pledg Back: Token
Note right of Pledg Back: The token is registered<br>for future use
Pledg Back->> Pledg PSP: Charge request
Pledg PSP->> Pledg Back: OK
Note right of Pledg Back: The Pledg Back<br>registers the transfer<br> for future execution
Pledg Back->> Pledg Front: OK
Pledg Front->> Pledg Plugin: OK
Pledg Plugin->> Merchant Front: OK
Merchant Front->> Merchant Back: OK
